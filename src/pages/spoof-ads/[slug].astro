---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.tsx';
import { Image } from 'astro:assets';
export async function getStaticPaths() {
  const spoofAds = await getCollection('spoof-ads');
  return spoofAds.map((spoofAd) => ({
    params: { slug: spoofAd.slug },
    props: { spoofAd },
  }));
}

const { spoofAd } = Astro.props;
const { Content } = await spoofAd.render();
---

<Layout title={`${spoofAd.data.name} - Spoof Ads - adbusters`}>

  
  <main class="container mx-auto px-4 py-8">
      <Header 
    title="Spoof Ads"
    subtitle="Culture jamming through subvertising"
    navigationText="View All Spoof Ads"
    navigationHref="/spoof-ads"
    client:load
  />
    <div class="max-w-4xl mx-auto">
      <!-- Back Navigation -->
      <nav class="mb-8">
        <a 
          href="/spoof-ads" 
          class="inline-flex items-center text-red-600 hover:text-red-800 transition-colors duration-200 text-sm font-medium"
        >
          <svg class="w-3 h-3 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
          Back to Spoof Ads
        </a>
      </nav>
      
      <!-- Spoof Ad Content -->
      <article class="bg-white">
        <!-- Header -->
        <header class="mb-8">
          <h1 class="text-3xl md:text-4xl font-bold text-black mb-4">
            {spoofAd.data.name}
          </h1>
          
          {spoofAd.data.spoofCategory && (
            <div class="mb-4">
              <span class="inline-flex items-center px-3 py-1 bg-red-100 text-red-800 text-xs font-medium rounded-full uppercase tracking-wider">
                {spoofAd.data.spoofCategory}
              </span>
            </div>
          )}
        </header>
        
        <!-- Main Image -->
        <div class="mb-8">
          <Image 
            src={spoofAd.data.spoofImage} 
            alt={spoofAd.data.name}
            class="w-full h-auto mx-auto bg-gray-100 object-contain block"
            loading="eager"
            width={600}
            height={750}
            format="webp"
            quality={90}
          />
        </div>
        
        <!-- Caption -->
        {spoofAd.data.caption && (
          <div class="mb-6">
            <p class="text-gray-700 text-lg leading-relaxed">
              {spoofAd.data.caption}
            </p>
          </div>
        )}
        
        <!-- Content (if any additional content exists) -->
        <div class="prose prose-lg max-w-none">
          <Content />
        </div>
        
        <!-- Author Credit -->
        {spoofAd.data.authorCredit && (
          <footer class="mt-8 pt-4 border-t border-gray-200">
            <p class="text-gray-600 italic">
              {spoofAd.data.authorCredit}
            </p>
          </footer>
        )}
      </article>
      
      <!-- Related Navigation -->
      <nav class="mt-12 pt-8 border-t border-gray-200">
        <div class="flex justify-between items-center">
          <a 
            href="/spoof-ads" 
            class="inline-block bg-red-600 text-white px-6 py-3 rounded hover:bg-red-700 transition-colors duration-200 font-medium text-sm"
          >
            View All Spoof Ads
          </a>
          
          <a 
            href="/articles" 
            class="text-red-600 hover:text-red-800 transition-colors duration-200 font-medium text-sm"
          >
            Read Articles â†’
          </a>
        </div>
      </nav>
    </div>
  </main>

</Layout>

